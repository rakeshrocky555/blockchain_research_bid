{"ast":null,"code":"/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/** @file filter.js\n * @authors:\n *   Jeffrey Wilcke <jeff@ethdev.com>\n *   Marek Kotewicz <marek@ethdev.com>\n *   Marian Oancea <marian@ethdev.com>\n *   Fabian Vogelsteller <fabian@ethdev.com>\n *   Gav Wood <g@ethdev.com>\n * @date 2014\n */\n\nvar formatters = require('./formatters');\nvar utils = require('../utils/utils');\n\n/**\n* Converts a given topic to a hex string, but also allows null values.\n*\n* @param {Mixed} value\n* @return {String}\n*/\nvar toTopic = function (value) {\n  if (value === null || typeof value === 'undefined') return null;\n  value = String(value);\n  if (value.indexOf('0x') === 0) return value;else return utils.fromUtf8(value);\n};\n\n/// This method should be called on options object, to verify deprecated properties && lazy load dynamic ones\n/// @param should be string or object\n/// @returns options string or object\nvar getOptions = function (options, type) {\n  /*jshint maxcomplexity: 6 */\n\n  if (utils.isString(options)) {\n    return options;\n  }\n  options = options || {};\n  switch (type) {\n    case 'eth':\n      // make sure topics, get converted to hex\n      options.topics = options.topics || [];\n      options.topics = options.topics.map(function (topic) {\n        return utils.isArray(topic) ? topic.map(toTopic) : toTopic(topic);\n      });\n      return {\n        topics: options.topics,\n        from: options.from,\n        to: options.to,\n        address: options.address,\n        fromBlock: formatters.inputBlockNumberFormatter(options.fromBlock),\n        toBlock: formatters.inputBlockNumberFormatter(options.toBlock)\n      };\n    case 'shh':\n      return options;\n  }\n};\n\n/**\nAdds the callback and sets up the methods, to iterate over the results.\n\n@method getLogsAtStart\n@param {Object} self\n@param {function} callback\n*/\nvar getLogsAtStart = function (self, callback) {\n  // call getFilterLogs for the first watch callback start\n  if (!utils.isString(self.options)) {\n    self.get(function (err, messages) {\n      // don't send all the responses to all the watches again... just to self one\n      if (err) {\n        callback(err);\n      }\n      if (utils.isArray(messages)) {\n        messages.forEach(function (message) {\n          callback(null, message);\n        });\n      }\n    });\n  }\n};\n\n/**\nAdds the callback and sets up the methods, to iterate over the results.\n\n@method pollFilter\n@param {Object} self\n*/\nvar pollFilter = function (self) {\n  var onMessage = function (error, messages) {\n    if (error) {\n      return self.callbacks.forEach(function (callback) {\n        callback(error);\n      });\n    }\n    if (utils.isArray(messages)) {\n      messages.forEach(function (message) {\n        message = self.formatter ? self.formatter(message) : message;\n        self.callbacks.forEach(function (callback) {\n          callback(null, message);\n        });\n      });\n    }\n  };\n  self.requestManager.startPolling({\n    method: self.implementation.poll.call,\n    params: [self.filterId]\n  }, self.filterId, onMessage, self.stopWatching.bind(self));\n};\nvar Filter = function (options, type, requestManager, methods, formatter, callback, filterCreationErrorCallback) {\n  var self = this;\n  var implementation = {};\n  methods.forEach(function (method) {\n    method.setRequestManager(requestManager);\n    method.attachToObject(implementation);\n  });\n  this.requestManager = requestManager;\n  this.options = getOptions(options, type);\n  this.implementation = implementation;\n  this.filterId = null;\n  this.callbacks = [];\n  this.getLogsCallbacks = [];\n  this.pollFilters = [];\n  this.formatter = formatter;\n  this.implementation.newFilter(this.options, function (error, id) {\n    if (error) {\n      self.callbacks.forEach(function (cb) {\n        cb(error);\n      });\n      if (typeof filterCreationErrorCallback === 'function') {\n        filterCreationErrorCallback(error);\n      }\n    } else {\n      self.filterId = id;\n\n      // check if there are get pending callbacks as a consequence\n      // of calling get() with filterId unassigned.\n      self.getLogsCallbacks.forEach(function (cb) {\n        self.get(cb);\n      });\n      self.getLogsCallbacks = [];\n\n      // get filter logs for the already existing watch calls\n      self.callbacks.forEach(function (cb) {\n        getLogsAtStart(self, cb);\n      });\n      if (self.callbacks.length > 0) pollFilter(self);\n\n      // start to watch immediately\n      if (typeof callback === 'function') {\n        return self.watch(callback);\n      }\n    }\n  });\n  return this;\n};\nFilter.prototype.watch = function (callback) {\n  this.callbacks.push(callback);\n  if (this.filterId) {\n    getLogsAtStart(this, callback);\n    pollFilter(this);\n  }\n  return this;\n};\nFilter.prototype.stopWatching = function (callback) {\n  this.requestManager.stopPolling(this.filterId);\n  this.callbacks = [];\n  // remove filter async\n  if (callback) {\n    this.implementation.uninstallFilter(this.filterId, callback);\n  } else {\n    return this.implementation.uninstallFilter(this.filterId);\n  }\n};\nFilter.prototype.get = function (callback) {\n  var self = this;\n  if (utils.isFunction(callback)) {\n    if (this.filterId === null) {\n      // If filterId is not set yet, call it back\n      // when newFilter() assigns it.\n      this.getLogsCallbacks.push(callback);\n    } else {\n      this.implementation.getLogs(this.filterId, function (err, res) {\n        if (err) {\n          callback(err);\n        } else {\n          callback(null, res.map(function (log) {\n            return self.formatter ? self.formatter(log) : log;\n          }));\n        }\n      });\n    }\n  } else {\n    if (this.filterId === null) {\n      throw new Error('Filter ID Error: filter().get() can\\'t be chained synchronous, please provide a callback for the get() method.');\n    }\n    var logs = this.implementation.getLogs(this.filterId);\n    return logs.map(function (log) {\n      return self.formatter ? self.formatter(log) : log;\n    });\n  }\n  return this;\n};\nmodule.exports = Filter;","map":{"version":3,"names":["formatters","require","utils","toTopic","value","String","indexOf","fromUtf8","getOptions","options","type","isString","topics","map","topic","isArray","from","to","address","fromBlock","inputBlockNumberFormatter","toBlock","getLogsAtStart","self","callback","get","err","messages","forEach","message","pollFilter","onMessage","error","callbacks","formatter","requestManager","startPolling","method","implementation","poll","call","params","filterId","stopWatching","bind","Filter","methods","filterCreationErrorCallback","setRequestManager","attachToObject","getLogsCallbacks","pollFilters","newFilter","id","cb","length","watch","prototype","push","stopPolling","uninstallFilter","isFunction","getLogs","res","log","Error","logs","module","exports"],"sources":["E:/Career/University at Buffalo/Semester 2/CSE_Blockchain/Project/playground/research-papers-bid/node_modules/web3/lib/web3/filter.js"],"sourcesContent":["/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/** @file filter.js\n * @authors:\n *   Jeffrey Wilcke <jeff@ethdev.com>\n *   Marek Kotewicz <marek@ethdev.com>\n *   Marian Oancea <marian@ethdev.com>\n *   Fabian Vogelsteller <fabian@ethdev.com>\n *   Gav Wood <g@ethdev.com>\n * @date 2014\n */\n\nvar formatters = require('./formatters');\nvar utils = require('../utils/utils');\n\n/**\n* Converts a given topic to a hex string, but also allows null values.\n*\n* @param {Mixed} value\n* @return {String}\n*/\nvar toTopic = function(value){\n\n    if(value === null || typeof value === 'undefined')\n        return null;\n\n    value = String(value);\n\n    if(value.indexOf('0x') === 0)\n        return value;\n    else\n        return utils.fromUtf8(value);\n};\n\n/// This method should be called on options object, to verify deprecated properties && lazy load dynamic ones\n/// @param should be string or object\n/// @returns options string or object\nvar getOptions = function (options, type) {\n    /*jshint maxcomplexity: 6 */\n\n    if (utils.isString(options)) {\n        return options;\n    }\n\n    options = options || {};\n\n\n    switch(type) {\n        case 'eth':\n\n            // make sure topics, get converted to hex\n            options.topics = options.topics || [];\n            options.topics = options.topics.map(function(topic){\n                return (utils.isArray(topic)) ? topic.map(toTopic) : toTopic(topic);\n            });\n\n            return {\n                topics: options.topics,\n                from: options.from,\n                to: options.to,\n                address: options.address,\n                fromBlock: formatters.inputBlockNumberFormatter(options.fromBlock),\n                toBlock: formatters.inputBlockNumberFormatter(options.toBlock)\n            };\n        case 'shh':\n            return options;\n    }\n};\n\n/**\nAdds the callback and sets up the methods, to iterate over the results.\n\n@method getLogsAtStart\n@param {Object} self\n@param {function} callback\n*/\nvar getLogsAtStart = function(self, callback){\n    // call getFilterLogs for the first watch callback start\n    if (!utils.isString(self.options)) {\n        self.get(function (err, messages) {\n            // don't send all the responses to all the watches again... just to self one\n            if (err) {\n                callback(err);\n            }\n\n            if(utils.isArray(messages)) {\n                messages.forEach(function (message) {\n                    callback(null, message);\n                });\n            }\n        });\n    }\n};\n\n/**\nAdds the callback and sets up the methods, to iterate over the results.\n\n@method pollFilter\n@param {Object} self\n*/\nvar pollFilter = function(self) {\n\n    var onMessage = function (error, messages) {\n        if (error) {\n            return self.callbacks.forEach(function (callback) {\n                callback(error);\n            });\n        }\n\n        if(utils.isArray(messages)) {\n            messages.forEach(function (message) {\n                message = self.formatter ? self.formatter(message) : message;\n                self.callbacks.forEach(function (callback) {\n                    callback(null, message);\n                });\n            });\n        }\n    };\n\n    self.requestManager.startPolling({\n        method: self.implementation.poll.call,\n        params: [self.filterId],\n    }, self.filterId, onMessage, self.stopWatching.bind(self));\n\n};\n\nvar Filter = function (options, type, requestManager, methods, formatter, callback, filterCreationErrorCallback) {\n    var self = this;\n    var implementation = {};\n    methods.forEach(function (method) {\n        method.setRequestManager(requestManager);\n        method.attachToObject(implementation);\n    });\n    this.requestManager = requestManager;\n    this.options = getOptions(options, type);\n    this.implementation = implementation;\n    this.filterId = null;\n    this.callbacks = [];\n    this.getLogsCallbacks = [];\n    this.pollFilters = [];\n    this.formatter = formatter;\n    this.implementation.newFilter(this.options, function(error, id){\n        if(error) {\n            self.callbacks.forEach(function(cb){\n                cb(error);\n            });\n            if (typeof filterCreationErrorCallback === 'function') {\n              filterCreationErrorCallback(error);\n            }\n        } else {\n            self.filterId = id;\n\n            // check if there are get pending callbacks as a consequence\n            // of calling get() with filterId unassigned.\n            self.getLogsCallbacks.forEach(function (cb){\n                self.get(cb);\n            });\n            self.getLogsCallbacks = [];\n\n            // get filter logs for the already existing watch calls\n            self.callbacks.forEach(function(cb){\n                getLogsAtStart(self, cb);\n            });\n            if(self.callbacks.length > 0)\n                pollFilter(self);\n\n            // start to watch immediately\n            if(typeof callback === 'function') {\n                return self.watch(callback);\n            }\n        }\n    });\n\n    return this;\n};\n\nFilter.prototype.watch = function (callback) {\n    this.callbacks.push(callback);\n\n    if(this.filterId) {\n        getLogsAtStart(this, callback);\n        pollFilter(this);\n    }\n\n    return this;\n};\n\nFilter.prototype.stopWatching = function (callback) {\n    this.requestManager.stopPolling(this.filterId);\n    this.callbacks = [];\n    // remove filter async\n    if (callback) {\n        this.implementation.uninstallFilter(this.filterId, callback);\n    } else {\n        return this.implementation.uninstallFilter(this.filterId);\n    }\n};\n\nFilter.prototype.get = function (callback) {\n    var self = this;\n    if (utils.isFunction(callback)) {\n        if (this.filterId === null) {\n            // If filterId is not set yet, call it back\n            // when newFilter() assigns it.\n            this.getLogsCallbacks.push(callback);\n        } else {\n            this.implementation.getLogs(this.filterId, function(err, res){\n                if (err) {\n                    callback(err);\n                } else {\n                    callback(null, res.map(function (log) {\n                        return self.formatter ? self.formatter(log) : log;\n                    }));\n                }\n            });\n        }\n    } else {\n        if (this.filterId === null) {\n            throw new Error('Filter ID Error: filter().get() can\\'t be chained synchronous, please provide a callback for the get() method.');\n        }\n        var logs = this.implementation.getLogs(this.filterId);\n        return logs.map(function (log) {\n            return self.formatter ? self.formatter(log) : log;\n        });\n    }\n\n    return this;\n};\n\nmodule.exports = Filter;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}