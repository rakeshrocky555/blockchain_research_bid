{"ast":null,"code":"/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file allevents.js\n * @author Marek Kotewicz <marek@ethdev.com>\n * @date 2014\n */\n\nvar sha3 = require('../utils/sha3');\nvar SolidityEvent = require('./event');\nvar formatters = require('./formatters');\nvar utils = require('../utils/utils');\nvar Filter = require('./filter');\nvar watches = require('./methods/watches');\nvar AllSolidityEvents = function (requestManager, json, address) {\n  this._requestManager = requestManager;\n  this._json = json;\n  this._address = address;\n};\nAllSolidityEvents.prototype.encode = function (options) {\n  options = options || {};\n  var result = {};\n  ['fromBlock', 'toBlock'].filter(function (f) {\n    return options[f] !== undefined;\n  }).forEach(function (f) {\n    result[f] = formatters.inputBlockNumberFormatter(options[f]);\n  });\n  result.address = this._address;\n  return result;\n};\nAllSolidityEvents.prototype.decode = function (data) {\n  data.data = data.data || '';\n  var eventTopic = utils.isArray(data.topics) && utils.isString(data.topics[0]) ? data.topics[0].slice(2) : '';\n  var match = this._json.filter(function (j) {\n    return eventTopic === sha3(utils.transformToFullName(j));\n  })[0];\n  if (!match) {\n    // cannot find matching event?\n    return formatters.outputLogFormatter(data);\n  }\n  var event = new SolidityEvent(this._requestManager, match, this._address);\n  return event.decode(data);\n};\nAllSolidityEvents.prototype.execute = function (options, callback) {\n  if (utils.isFunction(arguments[arguments.length - 1])) {\n    callback = arguments[arguments.length - 1];\n    if (arguments.length === 1) options = null;\n  }\n  var o = this.encode(options);\n  var formatter = this.decode.bind(this);\n  return new Filter(o, 'eth', this._requestManager, watches.eth(), formatter, callback);\n};\nAllSolidityEvents.prototype.attachToContract = function (contract) {\n  var execute = this.execute.bind(this);\n  contract.allEvents = execute;\n};\nmodule.exports = AllSolidityEvents;","map":{"version":3,"names":["sha3","require","SolidityEvent","formatters","utils","Filter","watches","AllSolidityEvents","requestManager","json","address","_requestManager","_json","_address","prototype","encode","options","result","filter","f","undefined","forEach","inputBlockNumberFormatter","decode","data","eventTopic","isArray","topics","isString","slice","match","j","transformToFullName","outputLogFormatter","event","execute","callback","isFunction","arguments","length","o","formatter","bind","eth","attachToContract","contract","allEvents","module","exports"],"sources":["E:/Career/University at Buffalo/Semester 2/CSE_Blockchain/Project/playground/research-papers-bid/node_modules/web3/lib/web3/allevents.js"],"sourcesContent":["/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file allevents.js\n * @author Marek Kotewicz <marek@ethdev.com>\n * @date 2014\n */\n\nvar sha3 = require('../utils/sha3');\nvar SolidityEvent = require('./event');\nvar formatters = require('./formatters');\nvar utils = require('../utils/utils');\nvar Filter = require('./filter');\nvar watches = require('./methods/watches');\n\nvar AllSolidityEvents = function (requestManager, json, address) {\n    this._requestManager = requestManager;\n    this._json = json;\n    this._address = address;\n};\n\nAllSolidityEvents.prototype.encode = function (options) {\n    options = options || {};\n    var result = {};\n\n    ['fromBlock', 'toBlock'].filter(function (f) {\n        return options[f] !== undefined;\n    }).forEach(function (f) {\n        result[f] = formatters.inputBlockNumberFormatter(options[f]);\n    });\n\n    result.address = this._address;\n\n    return result;\n};\n\nAllSolidityEvents.prototype.decode = function (data) {\n    data.data = data.data || '';\n\n\n    var eventTopic = (utils.isArray(data.topics) && utils.isString(data.topics[0])) ? data.topics[0].slice(2) : '';\n    var match = this._json.filter(function (j) {\n        return eventTopic === sha3(utils.transformToFullName(j));\n    })[0];\n\n    if (!match) { // cannot find matching event?\n        return formatters.outputLogFormatter(data);\n    }\n\n    var event = new SolidityEvent(this._requestManager, match, this._address);\n    return event.decode(data);\n};\n\nAllSolidityEvents.prototype.execute = function (options, callback) {\n\n    if (utils.isFunction(arguments[arguments.length - 1])) {\n        callback = arguments[arguments.length - 1];\n        if(arguments.length === 1)\n            options = null;\n    }\n\n    var o = this.encode(options);\n    var formatter = this.decode.bind(this);\n    return new Filter(o, 'eth', this._requestManager, watches.eth(), formatter, callback);\n};\n\nAllSolidityEvents.prototype.attachToContract = function (contract) {\n    var execute = this.execute.bind(this);\n    contract.allEvents = execute;\n};\n\nmodule.exports = AllSolidityEvents;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}